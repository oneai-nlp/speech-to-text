<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
<body style=" color:white;background-color: rgb(3 25 49 / 1)">
  
<svg width="150" height="82" viewBox="0 0 150 82" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M104.379 70.3191L104.321 67.0861L106.231 67.0527L106.224 66.6733L104.315 66.7073L104.291 65.2991L103.864 65.3069L103.883 66.4054C103.887 66.6299 103.803 66.7157 103.578 66.7201L102.453 66.7396L102.459 67.119L103.879 67.0939L103.932 70.064C103.939 70.4506 104.145 70.7024 104.572 70.6951L106.295 70.665L106.288 70.2857L104.379 70.3191Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M108.126 70.7135L108.077 67.9061C108.066 67.3022 108.597 67.0148 109.147 67.0053C109.822 66.9931 110.202 67.3579 110.216 68.1779L110.26 70.6762L110.703 70.6684L110.657 68.0927C110.64 67.1262 110.118 66.5937 109.257 66.6087C108.582 66.6199 108.246 66.9663 108.098 67.3401L108.067 67.3412L108.025 64.99L107.583 64.9978L107.684 70.7213L108.126 70.7135Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M112.471 68.4283C112.456 67.5777 112.958 66.9961 113.734 66.9822C114.503 66.9688 114.986 67.5097 115.001 68.3687L115.002 68.4299L112.472 68.4745L112.471 68.4283ZM115.398 69.7852L115.061 69.5819C114.845 70.1038 114.415 70.3896 113.834 70.4002C113.003 70.4147 112.496 69.8515 112.481 69.0003L112.478 68.8071L115.481 68.7547L115.477 68.5608C115.457 67.3855 114.798 66.5923 113.728 66.6107C112.665 66.6296 111.988 67.4156 112.011 68.738C112.034 70.0448 112.73 70.8068 113.84 70.7867C114.624 70.7734 115.168 70.369 115.398 69.7852Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M121.08 70.3925C120.483 70.4031 119.957 70.0717 119.947 69.5074L119.919 67.9293C119.909 67.3645 120.423 67.0153 121.021 67.0047C121.828 66.9907 122.295 67.5316 122.31 68.3978L122.32 68.9548C122.335 69.8216 121.887 70.3786 121.08 70.3925ZM121.161 66.6075C120.556 66.6186 120.15 66.9194 119.932 67.3567H119.909L119.898 66.7223L119.456 66.7306L119.553 72.2686L119.996 72.2608L119.957 70.0795H119.98C120.213 70.5084 120.629 70.7953 121.234 70.7847C122.228 70.7674 122.813 70.0065 122.789 68.668C122.765 67.33 122.154 66.5902 121.161 66.6075Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M126.875 68.9249C126.892 69.8685 126.412 70.3877 125.628 70.4011C124.844 70.415 124.347 69.9131 124.33 68.9695L124.321 68.4743C124.304 67.5307 124.784 67.0115 125.568 66.9981C126.352 66.9848 126.85 67.4861 126.866 68.4297L126.875 68.9249ZM125.561 66.6116C124.475 66.6305 123.829 67.4154 123.852 68.73C123.876 70.0451 124.549 70.8071 125.635 70.7882C126.721 70.7693 127.368 69.9838 127.345 68.6692C127.321 67.3546 126.648 66.5926 125.561 66.6116Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M131.362 70.2887L131.308 70.2898L130.437 66.6997L129.925 66.708L129.182 70.3265L129.127 70.3276L128.497 66.7331L128.101 66.7409L128.839 70.7198L129.437 70.7098L130.165 67.1609L130.212 67.1598L131.051 70.6814L131.648 70.6708L132.245 66.6679L131.857 66.6746L131.362 70.2887Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M133.549 68.4745L133.548 68.4283C133.533 67.5777 134.035 66.9961 134.811 66.9822C135.58 66.9688 136.063 67.5097 136.078 68.3687L136.079 68.4299L133.549 68.4745ZM136.554 68.5608C136.534 67.3855 135.875 66.5923 134.805 66.6107C133.742 66.6296 133.065 67.4156 133.088 68.738C133.111 70.0448 133.808 70.8068 134.917 70.7867C135.701 70.7734 136.245 70.369 136.475 69.7852L136.138 69.5819C135.922 70.1038 135.493 70.3896 134.911 70.4002C134.08 70.4147 133.573 69.8515 133.558 69.0003L133.555 68.8071L136.558 68.7547L136.554 68.5608Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M140.658 67.1167L141.48 67.1023L141.472 66.6689L140.782 66.6811C139.991 66.6951 139.648 67.1268 139.495 67.6164L139.463 67.617L139.447 66.7051L137.748 66.7341L137.755 67.1134L139.012 67.0911L139.068 70.3247L137.811 70.3464L137.818 70.7258L141.147 70.6673L141.14 70.2879L139.511 70.3169L139.476 68.321C139.463 67.6019 139.936 67.129 140.658 67.1167Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M105.798 78.5897C105.815 79.5328 105.335 80.0525 104.551 80.0658C103.767 80.0798 103.27 79.5773 103.252 78.6343L103.244 78.1391C103.227 77.1955 103.707 76.6763 104.491 76.6629C105.274 76.649 105.773 77.1509 105.789 78.0945L105.798 78.5897ZM104.484 76.2764C103.398 76.2953 102.752 77.0802 102.775 78.3948C102.799 79.7099 103.471 80.4719 104.558 80.453C105.644 80.434 106.29 79.6486 106.267 78.334C106.244 77.0189 105.571 76.2574 104.484 76.2764Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M110.958 76.3366L109.297 76.3655L109.273 75.0114L110.934 74.9824L110.928 74.6036L109.453 74.6298C109.018 74.6371 108.829 74.8955 108.836 75.2821L108.855 76.3728L107.365 76.399L107.372 76.7783L108.862 76.7521L108.919 79.9851L107.507 80.0102L107.513 80.389L110.85 80.3305L110.844 79.9512L109.362 79.9773L109.304 76.7443L110.965 76.7154L110.958 76.3366Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M116.167 79.9769L116.072 74.6322L114.171 74.6656L114.178 75.0449L115.637 75.0193L115.724 79.9847L114.265 80.0109L114.272 80.3891L117.624 80.3306L117.618 79.9518L116.167 79.9769Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M120.196 80.0879C119.622 80.0979 119.237 79.8572 119.23 79.401L119.226 79.1994C119.218 78.7666 119.562 78.4897 120.393 78.4747L121.371 78.458L121.384 79.1927C121.393 79.7269 120.871 80.0762 120.196 80.0879ZM121.839 79.9508L121.798 77.584C121.783 76.7484 121.215 76.2633 120.316 76.2789C119.539 76.2928 119.057 76.6643 118.855 77.125L119.162 77.3361C119.371 76.8988 119.748 76.6682 120.299 76.6588C120.951 76.6471 121.345 76.9729 121.356 77.638L121.365 78.1254L120.387 78.1427C119.192 78.1633 118.75 78.6123 118.763 79.3158C118.775 80.0511 119.295 80.475 120.133 80.46C120.824 80.4477 121.206 80.1397 121.377 79.7191L121.417 79.718L121.419 79.8572C121.447 80.1508 121.59 80.3419 121.948 80.3357L122.444 80.3274L122.437 79.9397L121.839 79.9508Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M125.259 76.2735C124.584 76.2852 124.248 76.6316 124.1 77.0054H124.069L124.058 76.3871L123.616 76.3949L123.686 80.386L124.129 80.3782L124.079 77.5702C124.068 76.967 124.599 76.6795 125.15 76.6695C125.825 76.6578 126.204 77.0227 126.218 77.8421L126.262 80.3409L126.705 80.3331L126.659 77.7574C126.642 76.7904 126.12 76.2584 125.259 76.2735Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M130.065 81.6393L129.544 81.6488C128.846 81.6605 128.492 81.3574 128.484 80.9397C128.478 80.5837 128.692 80.3637 129.046 80.2412L130.358 80.2183C131.079 80.2055 131.332 80.4411 131.338 80.8199C131.348 81.3535 130.856 81.6254 130.065 81.6393ZM128.731 77.7785L128.726 77.5234C128.718 77.0053 129.053 76.636 129.712 76.6238C130.379 76.6126 130.728 76.9697 130.736 77.4883L130.741 77.7434C130.75 78.2542 130.415 78.6313 129.748 78.643C129.096 78.6547 128.74 78.2893 128.731 77.7785ZM130.351 79.8083L129.396 79.825C128.954 79.8328 128.742 79.7209 128.738 79.4886C128.733 79.2101 129.025 79.0424 129.35 78.9594C129.49 78.9878 129.614 78.9934 129.754 78.9912C130.639 78.9756 131.218 78.4158 131.204 77.612C131.197 77.2014 131.044 76.8639 130.783 76.6366L130.777 76.2729L131.693 76.2567L131.686 75.8701L130.902 75.884C130.631 75.8885 130.525 76.0528 130.529 76.3001L130.532 76.4628C130.305 76.3358 130.024 76.2701 129.706 76.2762C128.814 76.2918 128.249 76.8511 128.263 77.6626C128.274 78.2358 128.561 78.6636 129.037 78.8564L129.038 78.8876C128.652 78.9945 128.345 79.2012 128.352 79.5878C128.356 79.8512 128.484 80.0267 128.742 80.1225L128.743 80.1849C128.303 80.3241 128.043 80.5837 128.051 81.0321C128.062 81.6588 128.581 82.0214 129.822 81.9991C131.095 81.9769 131.771 81.5936 131.758 80.7971C131.747 80.1782 131.32 79.7916 130.351 79.8083Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M135.358 76.3507L135.407 79.1582C135.417 79.7614 134.887 80.05 134.336 80.0589C133.661 80.0711 133.282 79.7057 133.267 78.8863L133.224 76.3875L132.781 76.3958L132.826 78.9716C132.844 79.938 133.365 80.4705 134.227 80.4555C134.902 80.4438 135.237 80.0979 135.386 79.7236L135.417 79.723L135.428 80.3419L135.87 80.3335L135.8 76.3429L135.358 76.3507Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M138.636 80.0879C138.062 80.0979 137.677 79.8572 137.67 79.401L137.666 79.1994C137.658 78.7666 138.002 78.4897 138.833 78.4747L139.811 78.458L139.824 79.1927C139.833 79.7269 139.311 80.0762 138.636 80.0879ZM140.279 79.9508L140.238 77.584C140.223 76.7484 139.655 76.2633 138.756 76.2789C137.979 76.2928 137.497 76.6643 137.295 77.125L137.602 77.3361C137.811 76.8988 138.188 76.6682 138.739 76.6588C139.391 76.6471 139.785 76.9729 139.796 77.638L139.805 78.1254L138.827 78.1427C137.632 78.1633 137.19 78.6123 137.203 79.3158C137.215 80.0511 137.735 80.475 138.573 80.46C139.264 80.4477 139.646 80.1397 139.818 79.7191L139.857 79.718L139.859 79.8572C139.887 80.1508 140.03 80.3419 140.388 80.3357L140.884 80.3274L140.877 79.9397L140.279 79.9508Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M143.895 81.6393L143.374 81.6488C142.676 81.6605 142.322 81.3574 142.314 80.9397C142.308 80.5837 142.521 80.3637 142.876 80.2412L144.187 80.2183C144.909 80.2055 145.162 80.4411 145.168 80.8199C145.178 81.3535 144.686 81.6254 143.895 81.6393ZM142.561 77.7785L142.556 77.5234C142.548 77.0053 142.882 76.636 143.542 76.6238C144.209 76.6126 144.557 76.9697 144.566 77.4883L144.571 77.7434C144.58 78.2542 144.245 78.6313 143.578 78.643C142.926 78.6547 142.57 78.2893 142.561 77.7785ZM144.181 79.8083L143.226 79.825C142.784 79.8328 142.572 79.7209 142.568 79.4886C142.563 79.2101 142.855 79.0424 143.18 78.9594C143.32 78.9878 143.444 78.9934 143.584 78.9912C144.469 78.9756 145.048 78.4158 145.034 77.612C145.027 77.2014 144.874 76.8639 144.613 76.6366L144.607 76.2729L145.523 76.2567L145.516 75.8701L144.732 75.884C144.461 75.8885 144.355 76.0528 144.359 76.3001L144.362 76.4628C144.135 76.3358 143.854 76.2701 143.536 76.2762C142.644 76.2918 142.079 76.8511 142.093 77.6626C142.103 78.2358 142.391 78.6636 142.867 78.8564L142.868 78.8876C142.482 78.9945 142.175 79.2012 142.182 79.5878C142.186 79.8512 142.314 80.0267 142.572 80.1225L142.573 80.1849C142.132 80.3241 141.873 80.5837 141.881 81.0321C141.892 81.6588 142.411 82.0214 143.652 81.9991C144.925 81.9769 145.601 81.5936 145.587 80.7971C145.577 80.1782 145.15 79.7916 144.181 79.8083Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M146.99 78.0926C146.975 77.242 147.477 76.6611 148.253 76.6466C149.022 76.6338 149.505 77.1746 149.52 78.033L149.521 78.0949L146.991 78.1394L146.99 78.0926ZM148.353 80.0651C147.522 80.0796 147.015 79.5158 147 78.6647L146.997 78.472L150 78.419L149.996 78.2258C149.976 77.0504 149.317 76.2572 148.246 76.2756C147.184 76.294 146.507 77.0799 146.53 78.4029C146.553 79.7097 147.249 80.4712 148.359 80.4517C149.143 80.4383 149.687 80.0339 149.917 79.4496L149.58 79.2468C149.364 79.7687 148.934 80.0545 148.353 80.0651Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M64.0597 34.6086L33.3877 80.8591H94.7316L64.0597 34.6086Z" fill="#00FFFF"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M82.5586 46.3418H102.771V0H82.5586V46.3418Z" fill="#F23DE9"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M23.9543 10.7329C10.7247 10.7329 0 21.4224 0 34.6084C0 47.7945 10.7247 58.4845 23.9543 58.4845C37.1839 58.4845 47.9087 47.7945 47.9087 34.6084C47.9087 21.4224 37.1839 10.7329 23.9543 10.7329" fill="#4D4DFF"></path></svg>
<br>
<br>
1. Click "Start"
<br>
2. Speak (max 30 secs)
<br>
<br>

<button id="start-button">Start</button>
<button id="stop-button">Stop</button>
<button id="cancel-button">Cancel</button>
<br>
<span id="transcript-final"></span>
<span id="transcript-nonfinal" style="color: dodgerblue"></span>
<br>
<script src="./soniox-web-voice.js"></script>
<script>

let transcriptFinal = document.getElementById("transcript-final");
let transcriptNonFinal = document.getElementById("transcript-nonfinal");
let recordTranscribe = null;

document.getElementById("start-button").onclick = function() {
  if (recordTranscribe != null) {
    recordTranscribe.cancel();
  }
  transcriptFinal.textContent = "";
  transcriptNonFinal.textContent = "";
  recordTranscribe = new sonioxWebVoice.RecordTranscribe();
  recordTranscribe.setIncludeNonFinal(true);
  recordTranscribe.setOnStarted(onStarted);
  recordTranscribe.setOnPartialResult(onPartialResult);
  recordTranscribe.setOnFinished(onFinished);
  recordTranscribe.setOnError(onError);
  recordTranscribe.start();
  console.log("State: " + recordTranscribe.getState());
};
document.getElementById("stop-button").onclick = function() {
  if (recordTranscribe != null) {
    recordTranscribe.stop();
    console.log("State: " + recordTranscribe.getState());
  }
};
document.getElementById("cancel-button").onclick = function() {
  if (recordTranscribe != null) {
    recordTranscribe.cancel();
    console.log("State: " + recordTranscribe.getState());
  }
};

function onStarted() {
  console.log("onStarted");
  console.log("State: " + recordTranscribe.getState());
}

function onPartialResult(result) {
  console.log("onPartialResult");
  console.log(result);
  transcriptNonFinal.textContent = "";
  result.words.forEach(function (word) {
    var text = word.text + " ";
    if (word.is_final) {
      transcriptFinal.textContent += text;
    } else {
      transcriptNonFinal.textContent += text;
    }
  });
}

function onFinished() {
  console.log("onFinished");
  console.log("State: " + recordTranscribe.getState());
}

function onError(status, message) {
  console.log("onError status=" + status + ", message=" + message);
  console.log("State: " + recordTranscribe.getState());
}

</script>

</body>
</html>
